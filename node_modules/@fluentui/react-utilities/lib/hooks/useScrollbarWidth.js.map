{"version":3,"names":["React","cache","WeakMap","useScrollbarWidth","options","targetDocument","force","useMemo","has","get","outer","createElement","style","visibility","overflow","inner","appendChild","body","scrollbarWidth","offsetWidth","remove","set"],"sources":["../../src/hooks/useScrollbarWidth.ts"],"sourcesContent":["import * as React from 'react';\n\nconst cache = new WeakMap<Document, number>();\n\ninterface UseScrollbarWidthOptions {\n  /**\n   * Reference document to measure the scrollbar width\n   */\n  targetDocument: Document | null | undefined;\n\n  /**\n   * Does not use the cache and recalculates the scrollbar width\n   */\n  force?: boolean;\n}\n\n/**\n * @returns The width in pixels of the scrollbar in the user agent\n */\nexport function useScrollbarWidth(options: UseScrollbarWidthOptions) {\n  const { targetDocument, force } = options;\n  return React.useMemo(() => {\n    if (!targetDocument) {\n      return 0;\n    }\n\n    if (!force && cache.has(targetDocument)) {\n      return cache.get(targetDocument);\n    }\n\n    const outer = targetDocument.createElement('div');\n    outer.style.visibility = 'hidden';\n    outer.style.overflow = 'scroll';\n\n    const inner = targetDocument.createElement('div');\n    outer.appendChild(inner);\n\n    targetDocument.body.appendChild(outer);\n    const scrollbarWidth = outer.offsetWidth - inner.offsetWidth;\n    outer.remove();\n    cache.set(targetDocument, scrollbarWidth);\n    return scrollbarWidth;\n  }, [targetDocument, force]);\n}\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AAEvB,MAAMC,KAAA,gBAAQ,IAAIC,OAAA;AAclB;;;AAGA,OAAO,SAASC,kBAAkBC,OAAiC,EAAE;EACnE,MAAM;IAAEC,cAAA;IAAgBC;EAAK,CAAE,GAAGF,OAAA;EAClC,OAAOJ,KAAA,CAAMO,OAAO,CAAC,MAAM;IACzB,IAAI,CAACF,cAAA,EAAgB;MACnB,OAAO;IACT;IAEA,IAAI,CAACC,KAAA,IAASL,KAAA,CAAMO,GAAG,CAACH,cAAA,GAAiB;MACvC,OAAOJ,KAAA,CAAMQ,GAAG,CAACJ,cAAA;IACnB;IAEA,MAAMK,KAAA,GAAQL,cAAA,CAAeM,aAAa,CAAC;IAC3CD,KAAA,CAAME,KAAK,CAACC,UAAU,GAAG;IACzBH,KAAA,CAAME,KAAK,CAACE,QAAQ,GAAG;IAEvB,MAAMC,KAAA,GAAQV,cAAA,CAAeM,aAAa,CAAC;IAC3CD,KAAA,CAAMM,WAAW,CAACD,KAAA;IAElBV,cAAA,CAAeY,IAAI,CAACD,WAAW,CAACN,KAAA;IAChC,MAAMQ,cAAA,GAAiBR,KAAA,CAAMS,WAAW,GAAGJ,KAAA,CAAMI,WAAW;IAC5DT,KAAA,CAAMU,MAAM;IACZnB,KAAA,CAAMoB,GAAG,CAAChB,cAAA,EAAgBa,cAAA;IAC1B,OAAOA,cAAA;EACT,GAAG,CAACb,cAAA,EAAgBC,KAAA,CAAM;AAC5B"}