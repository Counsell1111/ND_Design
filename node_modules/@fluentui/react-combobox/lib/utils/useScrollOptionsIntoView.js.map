{"version":3,"names":["React","canUseDOM","useScrollOptionsIntoView","state","activeOption","scrollContainerRef","useRef","useEffect","current","activeOptionElement","querySelector","id","offsetHeight","offsetTop","parentOffsetHeight","scrollTop","isAbove","isBelow","buffer","scrollTo"],"sources":["../../src/utils/useScrollOptionsIntoView.ts"],"sourcesContent":["import * as React from 'react';\nimport { canUseDOM } from '@fluentui/react-utilities';\nimport { ListboxState } from '../Listbox';\n\nexport function useScrollOptionsIntoView(state: ListboxState): React.Ref<HTMLDivElement> {\n  const { activeOption } = state;\n  const scrollContainerRef = React.useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    if (scrollContainerRef.current && activeOption && canUseDOM()) {\n      const activeOptionElement = scrollContainerRef.current.querySelector(`#${activeOption.id}`) as HTMLElement;\n\n      if (!activeOptionElement) {\n        return;\n      }\n\n      const { offsetHeight, offsetTop } = activeOptionElement;\n      const { offsetHeight: parentOffsetHeight, scrollTop } = scrollContainerRef.current;\n\n      const isAbove = offsetTop < scrollTop;\n      const isBelow = offsetTop + offsetHeight > scrollTop + parentOffsetHeight;\n\n      // add a small buffer for general visual nicety\n      // it looks slightly better if the option has some space from the top/bottom while arrowing\n      const buffer = 2;\n\n      if (isAbove) {\n        scrollContainerRef.current.scrollTo(0, offsetTop - buffer);\n      } else if (isBelow) {\n        scrollContainerRef.current.scrollTo(0, offsetTop - parentOffsetHeight + offsetHeight + buffer);\n      }\n    }\n  }, [activeOption]);\n\n  return scrollContainerRef;\n}\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,SAAS,QAAQ;AAG1B,OAAO,SAASC,yBAAyBC,KAAmB,EAA6B;EACvF,MAAM;IAAEC;EAAY,CAAE,GAAGD,KAAA;EACzB,MAAME,kBAAA,GAAqBL,KAAA,CAAMM,MAAM,CAAiB,IAAI;EAE5DN,KAAA,CAAMO,SAAS,CAAC,MAAM;IACpB,IAAIF,kBAAA,CAAmBG,OAAO,IAAIJ,YAAA,IAAgBH,SAAA,IAAa;MAC7D,MAAMQ,mBAAA,GAAsBJ,kBAAA,CAAmBG,OAAO,CAACE,aAAa,CAAE,IAAGN,YAAA,CAAaO,EAAG,EAAC;MAE1F,IAAI,CAACF,mBAAA,EAAqB;QACxB;MACF;MAEA,MAAM;QAAEG,YAAA;QAAcC;MAAS,CAAE,GAAGJ,mBAAA;MACpC,MAAM;QAAEG,YAAA,EAAcE,kBAAA;QAAoBC;MAAS,CAAE,GAAGV,kBAAA,CAAmBG,OAAO;MAElF,MAAMQ,OAAA,GAAUH,SAAA,GAAYE,SAAA;MAC5B,MAAME,OAAA,GAAUJ,SAAA,GAAYD,YAAA,GAAeG,SAAA,GAAYD,kBAAA;MAEvD;MACA;MACA,MAAMI,MAAA,GAAS;MAEf,IAAIF,OAAA,EAAS;QACXX,kBAAA,CAAmBG,OAAO,CAACW,QAAQ,CAAC,GAAGN,SAAA,GAAYK,MAAA;MACrD,OAAO,IAAID,OAAA,EAAS;QAClBZ,kBAAA,CAAmBG,OAAO,CAACW,QAAQ,CAAC,GAAGN,SAAA,GAAYC,kBAAA,GAAqBF,YAAA,GAAeM,MAAA;MACzF;IACF;EACF,GAAG,CAACd,YAAA,CAAa;EAEjB,OAAOC,kBAAA;AACT"}