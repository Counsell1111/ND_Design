{"version":3,"names":["React","getNativeElementProps","resolveShorthand","useMergedRefs","useFocusWithin","ArrowUpRegular","ArrowDownRegular","useTableContext","useARIAButtonShorthand","sortIcons","ascending","createElement","fontSize","descending","useTableHeaderCell_unstable","props","ref","noNativeElements","sortable","_props_as","rootComponent","as","_props_sortDirection","components","root","button","sortIcon","aside","role","undefined","sortDirection","required","defaultProps","children","tabIndex","type"],"sources":["../../../src/components/TableHeaderCell/useTableHeaderCell.tsx"],"sourcesContent":["import * as React from 'react';\nimport { getNativeElementProps, resolveShorthand, useMergedRefs } from '@fluentui/react-utilities';\nimport { useFocusWithin } from '@fluentui/react-tabster';\nimport { ArrowUpRegular, ArrowDownRegular } from '@fluentui/react-icons';\nimport type { TableHeaderCellProps, TableHeaderCellState } from './TableHeaderCell.types';\nimport { useTableContext } from '../../contexts/tableContext';\nimport { useARIAButtonShorthand } from '@fluentui/react-aria';\n\nconst sortIcons = {\n  ascending: <ArrowUpRegular fontSize={12} />,\n  descending: <ArrowDownRegular fontSize={12} />,\n};\n\n/**\n * Create the state required to render TableHeaderCell.\n *\n * The returned state can be modified with hooks such as useTableHeaderCellStyles_unstable,\n * before being passed to renderTableHeaderCell_unstable.\n *\n * @param props - props from this instance of TableHeaderCell\n * @param ref - reference to root HTMLElement of TableHeaderCell\n */\nexport const useTableHeaderCell_unstable = (\n  props: TableHeaderCellProps,\n  ref: React.Ref<HTMLElement>,\n): TableHeaderCellState => {\n  const { noNativeElements, sortable } = useTableContext();\n\n  const rootComponent = props.as ?? noNativeElements ? 'div' : 'th';\n  return {\n    components: {\n      root: rootComponent,\n      button: 'button',\n      sortIcon: 'span',\n      aside: 'span',\n    },\n    root: getNativeElementProps(rootComponent, {\n      ref: useMergedRefs(ref, useFocusWithin()),\n      role: rootComponent === 'div' ? 'columnheader' : undefined,\n      'aria-sort': sortable ? props.sortDirection ?? 'none' : undefined,\n      ...props,\n    }),\n    aside: resolveShorthand(props.aside),\n    sortIcon: resolveShorthand(props.sortIcon, {\n      required: !!props.sortDirection,\n      defaultProps: { children: props.sortDirection ? sortIcons[props.sortDirection] : undefined },\n    }),\n    button: useARIAButtonShorthand(props.button, {\n      required: true,\n      defaultProps: {\n        role: 'presentation',\n        tabIndex: -1,\n        type: 'button',\n        ...(sortable && {\n          role: undefined,\n          tabIndex: undefined,\n        }),\n      },\n    }),\n    sortable,\n    noNativeElements,\n  };\n};\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,qBAAqB,EAAEC,gBAAgB,EAAEC,aAAa,QAAQ;AACvE,SAASC,cAAc,QAAQ;AAC/B,SAASC,cAAc,EAAEC,gBAAgB,QAAQ;AAEjD,SAASC,eAAe,QAAQ;AAChC,SAASC,sBAAsB,QAAQ;AAEvC,MAAMC,SAAA,GAAY;EAChBC,SAAA,eAAWV,KAAA,CAAAW,aAAA,CAACN,cAAA;IAAeO,QAAA,EAAU;;EACrCC,UAAA,eAAYb,KAAA,CAAAW,aAAA,CAACL,gBAAA;IAAiBM,QAAA,EAAU;;AAC1C;AAEA;;;;;;;;;AASA,OAAO,MAAME,2BAAA,GAA8BA,CACzCC,KAAA,EACAC,GAAA,KACyB;EACzB,MAAM;IAAEC,gBAAA;IAAkBC;EAAQ,CAAE,GAAGX,eAAA;MAEjBY,SAAA;EAAtB,MAAMC,aAAA,GAAgB,EAAAD,SAAA,GAAAJ,KAAA,CAAMM,EAAE,cAARF,SAAA,cAAAA,SAAA,GAAYF,gBAAgB,IAAG,QAAQ,IAAI;MAWrCK,oBAAA;EAV5B,OAAO;IACLC,UAAA,EAAY;MACVC,IAAA,EAAMJ,aAAA;MACNK,MAAA,EAAQ;MACRC,QAAA,EAAU;MACVC,KAAA,EAAO;IACT;IACAH,IAAA,EAAMvB,qBAAA,CAAsBmB,aAAA,EAAe;MACzCJ,GAAA,EAAKb,aAAA,CAAca,GAAA,EAAKZ,cAAA;MACxBwB,IAAA,EAAMR,aAAA,KAAkB,QAAQ,iBAAiBS,SAAS;MAC1D,aAAaX,QAAA,GAAW,CAAAI,oBAAA,GAAAP,KAAA,CAAMe,aAAa,cAAnBR,oBAAA,cAAAA,oBAAA,GAAuB,MAAM,GAAGO,SAAS;MACjE,GAAGd;IACL;IACAY,KAAA,EAAOzB,gBAAA,CAAiBa,KAAA,CAAMY,KAAK;IACnCD,QAAA,EAAUxB,gBAAA,CAAiBa,KAAA,CAAMW,QAAQ,EAAE;MACzCK,QAAA,EAAU,CAAC,CAAChB,KAAA,CAAMe,aAAa;MAC/BE,YAAA,EAAc;QAAEC,QAAA,EAAUlB,KAAA,CAAMe,aAAa,GAAGrB,SAAS,CAACM,KAAA,CAAMe,aAAa,CAAC,GAAGD;MAAU;IAC7F;IACAJ,MAAA,EAAQjB,sBAAA,CAAuBO,KAAA,CAAMU,MAAM,EAAE;MAC3CM,QAAA,EAAU,IAAI;MACdC,YAAA,EAAc;QACZJ,IAAA,EAAM;QACNM,QAAA,EAAU,CAAC;QACXC,IAAA,EAAM;QACN,IAAIjB,QAAA,IAAY;UACdU,IAAA,EAAMC,SAAA;UACNK,QAAA,EAAUL;QACZ,CAAC;MACH;IACF;IACAX,QAAA;IACAD;EACF;AACF"}