{"version":3,"names":["React","defaultTableSelectionState","defaultTableSortState","defaultColumnSizingState","defaultRowEnhancer","row","defaultTableState","selection","sort","getRows","getRowId","items","columns","columnSizing_unstable","tableRef","createRef","useTableFeatures","options","plugins","_getRowId","rowEnhancer","map","item","i","rowId","initialState","reduce","state","plugin"],"sources":["../../src/hooks/useTableFeatures.ts"],"sourcesContent":["import * as React from 'react';\nimport type {\n  UseTableFeaturesOptions,\n  TableFeaturesState,\n  TableRowData,\n  RowEnhancer,\n  TableFeaturePlugin,\n  TableSortState,\n} from './types';\nimport { defaultTableSelectionState } from './useTableSelection';\nimport { defaultTableSortState } from './useTableSort';\nimport { defaultColumnSizingState } from './useTableColumnSizing';\n\nconst defaultRowEnhancer: RowEnhancer<unknown, TableRowData<unknown>> = row => row;\n\nexport const defaultTableState: TableFeaturesState<unknown> = {\n  selection: defaultTableSelectionState,\n  sort: defaultTableSortState,\n  getRows: () => [],\n  getRowId: () => '',\n  items: [],\n  columns: [],\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  columnSizing_unstable: defaultColumnSizingState,\n  tableRef: React.createRef<HTMLDivElement>(),\n};\n\nexport function useTableFeatures<TItem>(\n  options: UseTableFeaturesOptions<TItem>,\n  plugins: TableFeaturePlugin[] = [],\n): TableFeaturesState<TItem> {\n  const { items, getRowId, columns } = options;\n\n  const getRows = <TRowState extends TableRowData<TItem>>(\n    rowEnhancer = defaultRowEnhancer as RowEnhancer<TItem, TRowState>,\n  ) => items.map((item, i) => rowEnhancer({ item, rowId: getRowId?.(item) ?? i }));\n\n  const initialState: TableFeaturesState<TItem> = {\n    getRowId,\n    items,\n    columns,\n    getRows,\n    selection: defaultTableSelectionState,\n    sort: defaultTableSortState as TableSortState<TItem>,\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    columnSizing_unstable: defaultColumnSizingState,\n    tableRef: React.createRef(),\n  };\n\n  return plugins.reduce((state, plugin) => plugin(state), initialState);\n}\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AASvB,SAASC,0BAA0B,QAAQ;AAC3C,SAASC,qBAAqB,QAAQ;AACtC,SAASC,wBAAwB,QAAQ;AAEzC,MAAMC,kBAAA,GAAkEC,GAAA,IAAOA,GAAA;AAE/E,OAAO,MAAMC,iBAAA,GAAiD;EAC5DC,SAAA,EAAWN,0BAAA;EACXO,IAAA,EAAMN,qBAAA;EACNO,OAAA,EAASA,CAAA,KAAM,EAAE;EACjBC,QAAA,EAAUA,CAAA,KAAM;EAChBC,KAAA,EAAO,EAAE;EACTC,OAAA,EAAS,EAAE;EACX;EACAC,qBAAA,EAAuBV,wBAAA;EACvBW,QAAA,eAAUd,KAAA,CAAMe,SAAS;AAC3B;AAEA,OAAO,SAASC,iBACdC,OAAuC,EACvCC,OAAA,GAAgC,EAAE,EACP;EAC3B,MAAM;IAAEP,KAAA;IAAOD,QAAA;IAAUE;EAAO,CAAE,GAAGK,OAAA;MAIkBE,SAAA;EAFvD,MAAMV,OAAA,GAAUA,CACdW,WAAA,GAAchB,kBAAmD;IAC9D,OAAAO,KAAA,CAAMU,GAAG,CAAC,CAACC,IAAA,EAAMC,CAAA;MAAM,OAAAH,WAAA,CAAY;QAAEE,IAAA;QAAME,KAAA,EAAO,CAAAL,SAAA,GAAAT,QAAA,aAAAA,QAAA,uBAAAA,QAAA,CAAWY,IAAA,eAAXH,SAAA,cAAAA,SAAA,GAAoBI;MAAE;;;EAE7E,MAAME,YAAA,GAA0C;IAC9Cf,QAAA;IACAC,KAAA;IACAC,OAAA;IACAH,OAAA;IACAF,SAAA,EAAWN,0BAAA;IACXO,IAAA,EAAMN,qBAAA;IACN;IACAW,qBAAA,EAAuBV,wBAAA;IACvBW,QAAA,eAAUd,KAAA,CAAMe,SAAS;EAC3B;EAEA,OAAOG,OAAA,CAAQQ,MAAM,CAAC,CAACC,KAAA,EAAOC,MAAA,KAAWA,MAAA,CAAOD,KAAA,GAAQF,YAAA;AAC1D"}