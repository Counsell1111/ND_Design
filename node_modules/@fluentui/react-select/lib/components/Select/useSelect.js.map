{"version":3,"names":["React","useFieldControlProps_unstable","getPartitionedNativeProps","resolveShorthand","useEventCallback","ChevronDownRegular","useOverrides_unstable","useOverrides","useSelect_unstable","props","ref","supportsLabelFor","supportsRequired","supportsSize","overrides","_overrides_inputDefaultAppearance","defaultValue","value","select","icon","root","appearance","inputDefaultAppearance","onChange","size","nativeProps","primarySlotTagName","excludedPropNames","state","components","required","defaultProps","primary","children","createElement","event","target"],"sources":["../../../src/components/Select/useSelect.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useFieldControlProps_unstable } from '@fluentui/react-field';\nimport { getPartitionedNativeProps, resolveShorthand, useEventCallback } from '@fluentui/react-utilities';\nimport { ChevronDownRegular } from '@fluentui/react-icons';\nimport type { SelectProps, SelectState } from './Select.types';\nimport { useOverrides_unstable as useOverrides } from '@fluentui/react-shared-contexts';\n\n/**\n * Create the state required to render Select.\n *\n * The returned state can be modified with hooks such as useSelectStyles,\n * before being passed to renderSelect.\n *\n * @param props - props from this instance of Select\n * @param ref - reference to the `<select>` element in Select\n */\nexport const useSelect_unstable = (props: SelectProps, ref: React.Ref<HTMLSelectElement>): SelectState => {\n  // Merge props from surrounding <Field>, if any\n  props = useFieldControlProps_unstable(props, { supportsLabelFor: true, supportsRequired: true, supportsSize: true });\n\n  const overrides = useOverrides();\n\n  const {\n    defaultValue,\n    value,\n    select,\n    icon,\n    root,\n    appearance = overrides.inputDefaultAppearance ?? 'outline',\n\n    onChange,\n    size = 'medium',\n  } = props;\n\n  const nativeProps = getPartitionedNativeProps({\n    props,\n    primarySlotTagName: 'select',\n    excludedPropNames: ['appearance', 'defaultValue', 'onChange', 'size', 'value'],\n  });\n\n  const state: SelectState = {\n    size,\n    appearance,\n    components: {\n      root: 'span',\n      select: 'select',\n      icon: 'span',\n    },\n    select: resolveShorthand(select, {\n      required: true,\n      defaultProps: {\n        defaultValue,\n        value,\n        ref,\n        ...nativeProps.primary,\n      },\n    }),\n    icon: resolveShorthand(icon, {\n      required: true,\n      defaultProps: { children: <ChevronDownRegular /> },\n    }),\n    root: resolveShorthand(root, {\n      required: true,\n      defaultProps: nativeProps.root,\n    }),\n  };\n\n  state.select.onChange = useEventCallback(event => {\n    onChange?.(event, { value: (event.target as HTMLSelectElement).value });\n  });\n\n  return state;\n};\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,6BAA6B,QAAQ;AAC9C,SAASC,yBAAyB,EAAEC,gBAAgB,EAAEC,gBAAgB,QAAQ;AAC9E,SAASC,kBAAkB,QAAQ;AAEnC,SAASC,qBAAA,IAAyBC,YAAY,QAAQ;AAEtD;;;;;;;;;AASA,OAAO,MAAMC,kBAAA,GAAqBA,CAACC,KAAA,EAAoBC,GAAA,KAAmD;EACxG;EACAD,KAAA,GAAQR,6BAAA,CAA8BQ,KAAA,EAAO;IAAEE,gBAAA,EAAkB,IAAI;IAAEC,gBAAA,EAAkB,IAAI;IAAEC,YAAA,EAAc;EAAK;EAElH,MAAMC,SAAA,GAAYP,YAAA;MAQHQ,iCAAA;EANf,MAAM;IACJC,YAAA;IACAC,KAAA;IACAC,MAAA;IACAC,IAAA;IACAC,IAAA;IACAC,UAAA,GAAa,CAAAN,iCAAA,GAAAD,SAAA,CAAUQ,sBAAsB,cAAhCP,iCAAA,cAAAA,iCAAA,GAAoC,SAAS;IAE1DQ,QAAA;IACAC,IAAA,GAAO;EAAQ,CAChB,GAAGf,KAAA;EAEJ,MAAMgB,WAAA,GAAcvB,yBAAA,CAA0B;IAC5CO,KAAA;IACAiB,kBAAA,EAAoB;IACpBC,iBAAA,EAAmB,CAAC,cAAc,gBAAgB,YAAY,QAAQ;EACxE;EAEA,MAAMC,KAAA,GAAqB;IACzBJ,IAAA;IACAH,UAAA;IACAQ,UAAA,EAAY;MACVT,IAAA,EAAM;MACNF,MAAA,EAAQ;MACRC,IAAA,EAAM;IACR;IACAD,MAAA,EAAQf,gBAAA,CAAiBe,MAAA,EAAQ;MAC/BY,QAAA,EAAU,IAAI;MACdC,YAAA,EAAc;QACZf,YAAA;QACAC,KAAA;QACAP,GAAA;QACA,GAAGe,WAAA,CAAYO;MACjB;IACF;IACAb,IAAA,EAAMhB,gBAAA,CAAiBgB,IAAA,EAAM;MAC3BW,QAAA,EAAU,IAAI;MACdC,YAAA,EAAc;QAAEE,QAAA,eAAUjC,KAAA,CAAAkC,aAAA,CAAC7B,kBAAA;MAAsB;IACnD;IACAe,IAAA,EAAMjB,gBAAA,CAAiBiB,IAAA,EAAM;MAC3BU,QAAA,EAAU,IAAI;MACdC,YAAA,EAAcN,WAAA,CAAYL;IAC5B;EACF;EAEAQ,KAAA,CAAMV,MAAM,CAACK,QAAQ,GAAGnB,gBAAA,CAAiB+B,KAAA,IAAS;IAChDZ,QAAA,aAAAA,QAAA,uBAAAA,QAAA,CAAWY,KAAA,EAAO;MAAElB,KAAA,EAAOkB,KAAC,CAAMC,MAAM,CAAuBnB;IAAM;EACvE;EAEA,OAAOW,KAAA;AACT"}