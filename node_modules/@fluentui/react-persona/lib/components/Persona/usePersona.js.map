{"version":3,"names":["React","Avatar","getNativeElementProps","resolveShorthand","PresenceBadge","usePersona_unstable","props","ref","name","presenceOnly","size","textAlignment","textPosition","primaryText","required","defaultProps","children","secondaryText","tertiaryText","quaternaryText","numTextLines","filter","Boolean","length","components","root","avatar","presence","badge","avatarSizes","undefined","presenceSizes","small","medium","large","huge"],"sources":["../../../src/components/Persona/usePersona.ts"],"sourcesContent":["import * as React from 'react';\nimport { Avatar } from '@fluentui/react-avatar';\nimport { getNativeElementProps, resolveShorthand } from '@fluentui/react-utilities';\nimport { PresenceBadge } from '@fluentui/react-badge';\nimport type { PersonaProps, PersonaState } from './Persona.types';\n\n/**\n * Create the state required to render Persona.\n *\n * The returned state can be modified with hooks such as usePersonaStyles_unstable,\n * before being passed to renderPersona_unstable.\n *\n * @param props - props from this instance of Persona\n * @param ref - reference to root HTMLElement of Persona\n */\nexport const usePersona_unstable = (props: PersonaProps, ref: React.Ref<HTMLElement>): PersonaState => {\n  const { name, presenceOnly = false, size = 'medium', textAlignment = 'start', textPosition = 'after' } = props;\n\n  const primaryText = resolveShorthand(props.primaryText, {\n    required: true,\n    defaultProps: {\n      children: name,\n    },\n  });\n  const secondaryText = resolveShorthand(props.secondaryText);\n  const tertiaryText = resolveShorthand(props.tertiaryText);\n  const quaternaryText = resolveShorthand(props.quaternaryText);\n\n  const numTextLines = [primaryText, secondaryText, tertiaryText, quaternaryText].filter(Boolean).length;\n\n  return {\n    numTextLines,\n    presenceOnly,\n    size,\n    textAlignment,\n    textPosition,\n\n    components: {\n      root: 'div',\n      avatar: Avatar,\n      presence: PresenceBadge,\n      primaryText: 'span',\n      secondaryText: 'span',\n      tertiaryText: 'span',\n      quaternaryText: 'span',\n    },\n\n    root: getNativeElementProps(\n      'div',\n      {\n        ...props,\n        ref,\n      },\n      /* excludedPropNames */ ['name'],\n    ),\n    avatar: !presenceOnly\n      ? resolveShorthand(props.avatar, {\n          required: true,\n          defaultProps: {\n            name,\n            badge: props.presence,\n            size: avatarSizes[size],\n          },\n        })\n      : undefined,\n    presence: presenceOnly\n      ? resolveShorthand(props.presence, {\n          defaultProps: {\n            size: presenceSizes[size],\n          },\n        })\n      : undefined,\n    primaryText,\n    secondaryText,\n    tertiaryText,\n    quaternaryText,\n  };\n};\n\nconst presenceSizes = {\n  'extra-small': 'tiny',\n  small: 'extra-small',\n  medium: 'small',\n  large: 'medium',\n  'extra-large': 'large',\n  huge: 'large',\n} as const;\n\nconst avatarSizes = {\n  'extra-small': 20,\n  small: 28,\n  medium: 32,\n  large: 36,\n  'extra-large': 40,\n  huge: 56,\n} as const;\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,MAAM,QAAQ;AACvB,SAASC,qBAAqB,EAAEC,gBAAgB,QAAQ;AACxD,SAASC,aAAa,QAAQ;AAG9B;;;;;;;;;AASA,OAAO,MAAMC,mBAAA,GAAsBA,CAACC,KAAA,EAAqBC,GAAA,KAA8C;EACrG,MAAM;IAAEC,IAAA;IAAMC,YAAA,GAAe,KAAK;IAAEC,IAAA,GAAO;IAAUC,aAAA,GAAgB;IAASC,YAAA,GAAe;EAAO,CAAE,GAAGN,KAAA;EAEzG,MAAMO,WAAA,GAAcV,gBAAA,CAAiBG,KAAA,CAAMO,WAAW,EAAE;IACtDC,QAAA,EAAU,IAAI;IACdC,YAAA,EAAc;MACZC,QAAA,EAAUR;IACZ;EACF;EACA,MAAMS,aAAA,GAAgBd,gBAAA,CAAiBG,KAAA,CAAMW,aAAa;EAC1D,MAAMC,YAAA,GAAef,gBAAA,CAAiBG,KAAA,CAAMY,YAAY;EACxD,MAAMC,cAAA,GAAiBhB,gBAAA,CAAiBG,KAAA,CAAMa,cAAc;EAE5D,MAAMC,YAAA,GAAe,CAACP,WAAA,EAAaI,aAAA,EAAeC,YAAA,EAAcC,cAAA,CAAe,CAACE,MAAM,CAACC,OAAA,EAASC,MAAM;EAEtG,OAAO;IACLH,YAAA;IACAX,YAAA;IACAC,IAAA;IACAC,aAAA;IACAC,YAAA;IAEAY,UAAA,EAAY;MACVC,IAAA,EAAM;MACNC,MAAA,EAAQzB,MAAA;MACR0B,QAAA,EAAUvB,aAAA;MACVS,WAAA,EAAa;MACbI,aAAA,EAAe;MACfC,YAAA,EAAc;MACdC,cAAA,EAAgB;IAClB;IAEAM,IAAA,EAAMvB,qBAAA,CACJ,OACA;MACE,GAAGI,KAAK;MACRC;IACF,GACA,uBAAwB,CAAC,OAAO;IAElCmB,MAAA,EAAQ,CAACjB,YAAA,GACLN,gBAAA,CAAiBG,KAAA,CAAMoB,MAAM,EAAE;MAC7BZ,QAAA,EAAU,IAAI;MACdC,YAAA,EAAc;QACZP,IAAA;QACAoB,KAAA,EAAOtB,KAAA,CAAMqB,QAAQ;QACrBjB,IAAA,EAAMmB,WAAW,CAACnB,IAAA;MACpB;IACF,KACAoB,SAAS;IACbH,QAAA,EAAUlB,YAAA,GACNN,gBAAA,CAAiBG,KAAA,CAAMqB,QAAQ,EAAE;MAC/BZ,YAAA,EAAc;QACZL,IAAA,EAAMqB,aAAa,CAACrB,IAAA;MACtB;IACF,KACAoB,SAAS;IACbjB,WAAA;IACAI,aAAA;IACAC,YAAA;IACAC;EACF;AACF;AAEA,MAAMY,aAAA,GAAgB;EACpB,eAAe;EACfC,KAAA,EAAO;EACPC,MAAA,EAAQ;EACRC,KAAA,EAAO;EACP,eAAe;EACfC,IAAA,EAAM;AACR;AAEA,MAAMN,WAAA,GAAc;EAClB,eAAe;EACfG,KAAA,EAAO;EACPC,MAAA,EAAQ;EACRC,KAAA,EAAO;EACP,eAAe;EACfC,IAAA,EAAM;AACR"}