{"version":3,"names":["React","useFieldControlProps_unstable","getPartitionedNativeProps","resolveShorthand","useControllableState","useEventCallback","useOverrides_unstable","useOverrides","useInput_unstable","props","ref","supportsLabelFor","supportsRequired","supportsSize","overrides","_overrides_inputDefaultAppearance","size","appearance","inputDefaultAppearance","onChange","process","env","NODE_ENV","console","error","value","setValue","state","defaultState","defaultValue","initialState","nativeProps","primarySlotTagName","excludedPropNames","components","root","input","contentBefore","contentAfter","required","defaultProps","type","primary","ev","newValue","target"],"sources":["../../../src/components/Input/useInput.ts"],"sourcesContent":["import * as React from 'react';\nimport { useFieldControlProps_unstable } from '@fluentui/react-field';\nimport {\n  getPartitionedNativeProps,\n  resolveShorthand,\n  useControllableState,\n  useEventCallback,\n} from '@fluentui/react-utilities';\nimport type { InputProps, InputState } from './Input.types';\nimport { useOverrides_unstable as useOverrides } from '@fluentui/react-shared-contexts';\n\n/**\n * Create the state required to render Input.\n *\n * The returned state can be modified with hooks such as useInputStyles_unstable,\n * before being passed to renderInput_unstable.\n *\n * @param props - props from this instance of Input\n * @param ref - reference to `<input>` element of Input\n */\nexport const useInput_unstable = (props: InputProps, ref: React.Ref<HTMLInputElement>): InputState => {\n  props = useFieldControlProps_unstable(props, { supportsLabelFor: true, supportsRequired: true, supportsSize: true });\n\n  const overrides = useOverrides();\n\n  const { size = 'medium', appearance = overrides.inputDefaultAppearance ?? 'outline', onChange } = props;\n\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    (appearance === 'filled-darker-shadow' || appearance === 'filled-lighter-shadow')\n  ) {\n    // eslint-disable-next-line no-console\n    console.error(\n      \"The 'filled-darker-shadow' and 'filled-lighter-shadow' appearances are deprecated and will be removed in the\" +\n        ' future.',\n    );\n  }\n\n  const [value, setValue] = useControllableState({\n    state: props.value,\n    defaultState: props.defaultValue,\n    initialState: '',\n  });\n\n  const nativeProps = getPartitionedNativeProps({\n    props,\n    primarySlotTagName: 'input',\n    excludedPropNames: ['size', 'onChange', 'value', 'defaultValue'],\n  });\n\n  const state: InputState = {\n    size,\n    appearance,\n    components: {\n      root: 'span',\n      input: 'input',\n      contentBefore: 'span',\n      contentAfter: 'span',\n    },\n    input: resolveShorthand(props.input, {\n      required: true,\n      defaultProps: {\n        type: 'text',\n        ref,\n        ...nativeProps.primary,\n      },\n    }),\n    contentAfter: resolveShorthand(props.contentAfter),\n    contentBefore: resolveShorthand(props.contentBefore),\n    root: resolveShorthand(props.root, {\n      required: true,\n      defaultProps: nativeProps.root,\n    }),\n  };\n\n  state.input.value = value;\n  state.input.onChange = useEventCallback(ev => {\n    const newValue = ev.target.value;\n    onChange?.(ev, { value: newValue });\n    setValue(newValue);\n  });\n\n  return state;\n};\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,6BAA6B,QAAQ;AAC9C,SACEC,yBAAyB,EACzBC,gBAAgB,EAChBC,oBAAoB,EACpBC,gBAAgB,QACX;AAEP,SAASC,qBAAA,IAAyBC,YAAY,QAAQ;AAEtD;;;;;;;;;AASA,OAAO,MAAMC,iBAAA,GAAoBA,CAACC,KAAA,EAAmBC,GAAA,KAAiD;EACpGD,KAAA,GAAQR,6BAAA,CAA8BQ,KAAA,EAAO;IAAEE,gBAAA,EAAkB,IAAI;IAAEC,gBAAA,EAAkB,IAAI;IAAEC,YAAA,EAAc;EAAK;EAElH,MAAMC,SAAA,GAAYP,YAAA;MAEoBQ,iCAAA;EAAtC,MAAM;IAAEC,IAAA,GAAO;IAAUC,UAAA,GAAa,CAAAF,iCAAA,GAAAD,SAAA,CAAUI,sBAAsB,cAAhCH,iCAAA,cAAAA,iCAAA,GAAoC,SAAS;IAAEI;EAAQ,CAAE,GAAGV,KAAA;EAElG,IACEW,OAAA,CAAQC,GAAG,CAACC,QAAQ,KAAK,iBACxBL,UAAA,KAAe,0BAA0BA,UAAA,KAAe,uBAAsB,GAC/E;IACA;IACAM,OAAA,CAAQC,KAAK,CACX,iHACE;EAEN;EAEA,MAAM,CAACC,KAAA,EAAOC,QAAA,CAAS,GAAGtB,oBAAA,CAAqB;IAC7CuB,KAAA,EAAOlB,KAAA,CAAMgB,KAAK;IAClBG,YAAA,EAAcnB,KAAA,CAAMoB,YAAY;IAChCC,YAAA,EAAc;EAChB;EAEA,MAAMC,WAAA,GAAc7B,yBAAA,CAA0B;IAC5CO,KAAA;IACAuB,kBAAA,EAAoB;IACpBC,iBAAA,EAAmB,CAAC,QAAQ,YAAY,SAAS;EACnD;EAEA,MAAMN,KAAA,GAAoB;IACxBX,IAAA;IACAC,UAAA;IACAiB,UAAA,EAAY;MACVC,IAAA,EAAM;MACNC,KAAA,EAAO;MACPC,aAAA,EAAe;MACfC,YAAA,EAAc;IAChB;IACAF,KAAA,EAAOjC,gBAAA,CAAiBM,KAAA,CAAM2B,KAAK,EAAE;MACnCG,QAAA,EAAU,IAAI;MACdC,YAAA,EAAc;QACZC,IAAA,EAAM;QACN/B,GAAA;QACA,GAAGqB,WAAA,CAAYW;MACjB;IACF;IACAJ,YAAA,EAAcnC,gBAAA,CAAiBM,KAAA,CAAM6B,YAAY;IACjDD,aAAA,EAAelC,gBAAA,CAAiBM,KAAA,CAAM4B,aAAa;IACnDF,IAAA,EAAMhC,gBAAA,CAAiBM,KAAA,CAAM0B,IAAI,EAAE;MACjCI,QAAA,EAAU,IAAI;MACdC,YAAA,EAAcT,WAAA,CAAYI;IAC5B;EACF;EAEAR,KAAA,CAAMS,KAAK,CAACX,KAAK,GAAGA,KAAA;EACpBE,KAAA,CAAMS,KAAK,CAACjB,QAAQ,GAAGd,gBAAA,CAAiBsC,EAAA,IAAM;IAC5C,MAAMC,QAAA,GAAWD,EAAA,CAAGE,MAAM,CAACpB,KAAK;IAChCN,QAAA,aAAAA,QAAA,uBAAAA,QAAA,CAAWwB,EAAA,EAAI;MAAElB,KAAA,EAAOmB;IAAS;IACjClB,QAAA,CAASkB,QAAA;EACX;EAEA,OAAOjB,KAAA;AACT"}