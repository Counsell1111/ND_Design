{"version":3,"names":["React","DefaultInfoButtonIcon12","DefaultInfoButtonIcon16","DefaultInfoButtonIcon20","getNativeElementProps","mergeCallbacks","resolveShorthand","Popover","PopoverSurface","useControllableState","infoButtonIconMap","small","createElement","medium","large","popoverSizeMap","useInfoButton_unstable","props","ref","size","state","components","root","popover","info","children","type","required","defaultProps","positioning","withArrow","role","tabIndex","popoverOpen","setPopoverOpen","open","defaultState","defaultOpen","initialState","onOpenChange","e","data"],"sources":["../../../src/components/InfoButton/useInfoButton.tsx"],"sourcesContent":["import * as React from 'react';\nimport { DefaultInfoButtonIcon12, DefaultInfoButtonIcon16, DefaultInfoButtonIcon20 } from './DefaultInfoButtonIcons';\nimport { getNativeElementProps, mergeCallbacks, resolveShorthand } from '@fluentui/react-utilities';\nimport { Popover, PopoverSurface } from '@fluentui/react-popover';\nimport { useControllableState } from '@fluentui/react-utilities';\nimport type { InfoButtonProps, InfoButtonState } from './InfoButton.types';\nimport type { PopoverProps } from '@fluentui/react-popover';\n\nconst infoButtonIconMap = {\n  small: <DefaultInfoButtonIcon12 />,\n  medium: <DefaultInfoButtonIcon16 />,\n  large: <DefaultInfoButtonIcon20 />,\n} as const;\n\nconst popoverSizeMap = {\n  small: 'small',\n  medium: 'small',\n  large: 'medium',\n} as const;\n\n/**\n * Create the state required to render InfoButton.\n *\n * The returned state can be modified with hooks such as useInfoButtonStyles_unstable,\n * before being passed to renderInfoButton_unstable.\n *\n * @param props - props from this instance of InfoButton\n * @param ref - reference to root HTMLElement of InfoButton\n */\nexport const useInfoButton_unstable = (props: InfoButtonProps, ref: React.Ref<HTMLElement>): InfoButtonState => {\n  const { size = 'medium' } = props;\n\n  const state: InfoButtonState = {\n    size,\n\n    components: {\n      root: 'button',\n      popover: Popover as React.FC<Partial<PopoverProps>>,\n      info: PopoverSurface,\n    },\n\n    root: getNativeElementProps('button', {\n      children: infoButtonIconMap[size],\n      type: 'button',\n      'aria-label': 'information',\n      ...props,\n      ref,\n    }),\n    popover: resolveShorthand(props.popover, {\n      required: true,\n      defaultProps: {\n        positioning: 'above-start',\n        size: popoverSizeMap[size],\n        withArrow: true,\n      },\n    }),\n    info: resolveShorthand(props.info, {\n      required: true,\n      defaultProps: {\n        role: 'note',\n        tabIndex: -1,\n      },\n    }),\n  };\n\n  const [popoverOpen, setPopoverOpen] = useControllableState({\n    state: state.popover.open,\n    defaultState: state.popover.defaultOpen,\n    initialState: false,\n  });\n\n  state.popover.open = popoverOpen;\n  state.popover.onOpenChange = mergeCallbacks(state.popover.onOpenChange, (e, data) => setPopoverOpen(data.open));\n\n  return state;\n};\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,uBAAuB,EAAEC,uBAAuB,EAAEC,uBAAuB,QAAQ;AAC1F,SAASC,qBAAqB,EAAEC,cAAc,EAAEC,gBAAgB,QAAQ;AACxE,SAASC,OAAO,EAAEC,cAAc,QAAQ;AACxC,SAASC,oBAAoB,QAAQ;AAIrC,MAAMC,iBAAA,GAAoB;EACxBC,KAAA,eAAOX,KAAA,CAAAY,aAAA,CAACX,uBAAA;EACRY,MAAA,eAAQb,KAAA,CAAAY,aAAA,CAACV,uBAAA;EACTY,KAAA,eAAOd,KAAA,CAAAY,aAAA,CAACT,uBAAA;AACV;AAEA,MAAMY,cAAA,GAAiB;EACrBJ,KAAA,EAAO;EACPE,MAAA,EAAQ;EACRC,KAAA,EAAO;AACT;AAEA;;;;;;;;;AASA,OAAO,MAAME,sBAAA,GAAyBA,CAACC,KAAA,EAAwBC,GAAA,KAAiD;EAC9G,MAAM;IAAEC,IAAA,GAAO;EAAQ,CAAE,GAAGF,KAAA;EAE5B,MAAMG,KAAA,GAAyB;IAC7BD,IAAA;IAEAE,UAAA,EAAY;MACVC,IAAA,EAAM;MACNC,OAAA,EAAShB,OAAA;MACTiB,IAAA,EAAMhB;IACR;IAEAc,IAAA,EAAMlB,qBAAA,CAAsB,UAAU;MACpCqB,QAAA,EAAUf,iBAAiB,CAACS,IAAA,CAAK;MACjCO,IAAA,EAAM;MACN,cAAc;MACd,GAAGT,KAAK;MACRC;IACF;IACAK,OAAA,EAASjB,gBAAA,CAAiBW,KAAA,CAAMM,OAAO,EAAE;MACvCI,QAAA,EAAU,IAAI;MACdC,YAAA,EAAc;QACZC,WAAA,EAAa;QACbV,IAAA,EAAMJ,cAAc,CAACI,IAAA,CAAK;QAC1BW,SAAA,EAAW;MACb;IACF;IACAN,IAAA,EAAMlB,gBAAA,CAAiBW,KAAA,CAAMO,IAAI,EAAE;MACjCG,QAAA,EAAU,IAAI;MACdC,YAAA,EAAc;QACZG,IAAA,EAAM;QACNC,QAAA,EAAU,CAAC;MACb;IACF;EACF;EAEA,MAAM,CAACC,WAAA,EAAaC,cAAA,CAAe,GAAGzB,oBAAA,CAAqB;IACzDW,KAAA,EAAOA,KAAA,CAAMG,OAAO,CAACY,IAAI;IACzBC,YAAA,EAAchB,KAAA,CAAMG,OAAO,CAACc,WAAW;IACvCC,YAAA,EAAc;EAChB;EAEAlB,KAAA,CAAMG,OAAO,CAACY,IAAI,GAAGF,WAAA;EACrBb,KAAA,CAAMG,OAAO,CAACgB,YAAY,GAAGlC,cAAA,CAAee,KAAA,CAAMG,OAAO,CAACgB,YAAY,EAAE,CAACC,CAAA,EAAGC,IAAA,KAASP,cAAA,CAAeO,IAAA,CAAKN,IAAI;EAE7G,OAAOf,KAAA;AACT"}