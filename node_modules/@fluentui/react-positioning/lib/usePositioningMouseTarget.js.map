{"version":3,"names":["React","createVirtualElementFromClick","usePositioningMouseTarget","initialState","virtualElement","setVirtualElement","useState","setVirtualMouseTarget","event","undefined","mouseevent","MouseEvent","nativeEvent","process","env","NODE_ENV","console","error","contextTarget"],"sources":["../src/usePositioningMouseTarget.ts"],"sourcesContent":["import * as React from 'react';\nimport { createVirtualElementFromClick } from './createVirtualElementFromClick';\nimport { PositioningVirtualElement, SetVirtualMouseTarget } from './types';\n\n/**\n * @internal\n * A state hook that manages a popper virtual element from mouseevents.\n * Useful for scenarios where a component needs to be positioned by mouse click (e.g. contextmenu)\n * React synthetic events are not persisted by this hook\n *\n * @param initialState - initializes a user provided state similare to useState\n * @returns state and dispatcher for a Popper virtual element that uses native/synthetic mouse events\n */\nexport const usePositioningMouseTarget = (\n  initialState?: PositioningVirtualElement | (() => PositioningVirtualElement),\n) => {\n  const [virtualElement, setVirtualElement] = React.useState<PositioningVirtualElement | undefined>(initialState);\n\n  const setVirtualMouseTarget: SetVirtualMouseTarget = event => {\n    if (event === undefined || event === null) {\n      setVirtualElement(undefined);\n      return;\n    }\n\n    let mouseevent: MouseEvent;\n    if (!(event instanceof MouseEvent)) {\n      mouseevent = event.nativeEvent;\n    } else {\n      mouseevent = event;\n    }\n\n    if (!(mouseevent instanceof MouseEvent) && process.env.NODE_ENV !== 'production') {\n      // eslint-disable-next-line no-console\n      console.error('usePositioningMouseTarget should only be used with MouseEvent');\n    }\n\n    const contextTarget = createVirtualElementFromClick(mouseevent);\n    setVirtualElement(contextTarget);\n  };\n\n  return [virtualElement, setVirtualMouseTarget] as const;\n};\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,6BAA6B,QAAQ;AAG9C;;;;;;;;;AASA,OAAO,MAAMC,yBAAA,GACXC,YAAA,IACG;EACH,MAAM,CAACC,cAAA,EAAgBC,iBAAA,CAAkB,GAAGL,KAAA,CAAMM,QAAQ,CAAwCH,YAAA;EAElG,MAAMI,qBAAA,GAA+CC,KAAA,IAAS;IAC5D,IAAIA,KAAA,KAAUC,SAAA,IAAaD,KAAA,KAAU,IAAI,EAAE;MACzCH,iBAAA,CAAkBI,SAAA;MAClB;IACF;IAEA,IAAIC,UAAA;IACJ,IAAI,EAAEF,KAAA,YAAiBG,UAAS,GAAI;MAClCD,UAAA,GAAaF,KAAA,CAAMI,WAAW;IAChC,OAAO;MACLF,UAAA,GAAaF,KAAA;IACf;IAEA,IAAI,EAAEE,UAAA,YAAsBC,UAAS,KAAME,OAAA,CAAQC,GAAG,CAACC,QAAQ,KAAK,cAAc;MAChF;MACAC,OAAA,CAAQC,KAAK,CAAC;IAChB;IAEA,MAAMC,aAAA,GAAgBjB,6BAAA,CAA8BS,UAAA;IACpDL,iBAAA,CAAkBa,aAAA;EACpB;EAEA,OAAO,CAACd,cAAA,EAAgBG,qBAAA,CAAsB;AAChD"}