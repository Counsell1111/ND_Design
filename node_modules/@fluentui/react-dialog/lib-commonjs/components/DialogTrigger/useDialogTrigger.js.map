{"version":3,"sources":["../../../lib/components/DialogTrigger/useDialogTrigger.js"],"sourcesContent":["import * as React from 'react';\nimport { applyTriggerPropsToChildren, getTriggerChild, useEventCallback } from '@fluentui/react-utilities';\nimport { useDialogContext_unstable, useDialogSurfaceContext_unstable } from '../../contexts';\nimport { useARIAButtonProps } from '@fluentui/react-aria';\n/**\n * Create the state required to render DialogTrigger.\n * Clones the only child component and adds necessary event handling behaviours to open a popup Dialog\n *\n * @param props - props from this instance of DialogTrigger\n */\nexport const useDialogTrigger_unstable = props => {\n  const isInsideSurfaceDialog = useDialogSurfaceContext_unstable();\n  const {\n    children,\n    disableButtonEnhancement = false,\n    action = isInsideSurfaceDialog ? 'close' : 'open'\n  } = props;\n  const child = getTriggerChild(children);\n  const requestOpenChange = useDialogContext_unstable(ctx => ctx.requestOpenChange);\n  const triggerAttributes = useDialogContext_unstable(ctx => ctx.triggerAttributes);\n  const handleClick = useEventCallback(event => {\n    var _child_props, _child_props_onClick;\n    (_child_props_onClick = (_child_props = child === null || child === void 0 ? void 0 : child.props).onClick) === null || _child_props_onClick === void 0 ? void 0 : _child_props_onClick.call(_child_props, event);\n    if (!event.isDefaultPrevented()) {\n      requestOpenChange({\n        event,\n        type: 'triggerClick',\n        open: action === 'open'\n      });\n    }\n  });\n  const triggerChildProps = {\n    ...(child === null || child === void 0 ? void 0 : child.props),\n    ref: child === null || child === void 0 ? void 0 : child.ref,\n    onClick: handleClick,\n    ...triggerAttributes\n  };\n  const ariaButtonTriggerChildProps = useARIAButtonProps((child === null || child === void 0 ? void 0 : child.type) === 'button' || (child === null || child === void 0 ? void 0 : child.type) === 'a' ? child.type : 'div', {\n    ...triggerChildProps,\n    type: 'button'\n  });\n  return {\n    children: applyTriggerPropsToChildren(children, disableButtonEnhancement ? triggerChildProps : ariaButtonTriggerChildProps)\n  };\n};\n//# sourceMappingURL=useDialogTrigger.js.map"],"names":["useDialogTrigger_unstable","props","isInsideSurfaceDialog","useDialogSurfaceContext_unstable","children","disableButtonEnhancement","action","child","getTriggerChild","requestOpenChange","useDialogContext_unstable","ctx","triggerAttributes","handleClick","useEventCallback","event","_child_props","_child_props_onClick","onClick","call","isDefaultPrevented","type","open","triggerChildProps","ref","ariaButtonTriggerChildProps","useARIAButtonProps","applyTriggerPropsToChildren"],"mappings":";;;;+BAUaA;;aAAAA;;;6DAVU;gCACwD;0BACH;2BACzC;AAO5B,MAAMA,4BAA4BC,CAAAA,QAAS;IAChD,MAAMC,wBAAwBC,IAAAA,0CAAgC;IAC9D,MAAM,EACJC,SAAQ,EACRC,0BAA2B,KAAK,CAAA,EAChCC,QAASJ,wBAAwB,UAAU,MAAM,CAAA,EAClD,GAAGD;IACJ,MAAMM,QAAQC,IAAAA,+BAAe,EAACJ;IAC9B,MAAMK,oBAAoBC,IAAAA,mCAAyB,EAACC,CAAAA,MAAOA,IAAIF,iBAAiB;IAChF,MAAMG,oBAAoBF,IAAAA,mCAAyB,EAACC,CAAAA,MAAOA,IAAIC,iBAAiB;IAChF,MAAMC,cAAcC,IAAAA,gCAAgB,EAACC,CAAAA,QAAS;QAC5C,IAAIC,cAAcC;QACjBA,CAAAA,uBAAuB,AAACD,CAAAA,eAAeT,UAAU,IAAI,IAAIA,UAAU,KAAK,IAAI,KAAK,IAAIA,MAAMN,KAAK,AAAD,EAAGiB,OAAO,AAAD,MAAO,IAAI,IAAID,yBAAyB,KAAK,IAAI,KAAK,IAAIA,qBAAqBE,IAAI,CAACH,cAAcD,MAAM;QACjN,IAAI,CAACA,MAAMK,kBAAkB,IAAI;YAC/BX,kBAAkB;gBAChBM;gBACAM,MAAM;gBACNC,MAAMhB,WAAW;YACnB;QACF,CAAC;IACH;IACA,MAAMiB,oBAAoB;QACxB,GAAIhB,UAAU,IAAI,IAAIA,UAAU,KAAK,IAAI,KAAK,IAAIA,MAAMN,KAAK;QAC7DuB,KAAKjB,UAAU,IAAI,IAAIA,UAAU,KAAK,IAAI,KAAK,IAAIA,MAAMiB,GAAG;QAC5DN,SAASL;QACT,GAAGD,iBAAiB;IACtB;IACA,MAAMa,8BAA8BC,IAAAA,6BAAkB,EAAC,AAACnB,CAAAA,UAAU,IAAI,IAAIA,UAAU,KAAK,IAAI,KAAK,IAAIA,MAAMc,IAAI,AAAD,MAAO,YAAY,AAACd,CAAAA,UAAU,IAAI,IAAIA,UAAU,KAAK,IAAI,KAAK,IAAIA,MAAMc,IAAI,AAAD,MAAO,MAAMd,MAAMc,IAAI,GAAG,KAAK,EAAE;QACzN,GAAGE,iBAAiB;QACpBF,MAAM;IACR;IACA,OAAO;QACLjB,UAAUuB,IAAAA,2CAA2B,EAACvB,UAAUC,2BAA2BkB,oBAAoBE,2BAA2B;IAC5H;AACF,GACA,4CAA4C"}