{"version":3,"sources":["../../../lib/components/Tab/useTab.js"],"sourcesContent":["import * as React from 'react';\nimport { getNativeElementProps, mergeCallbacks, resolveShorthand, useEventCallback, useMergedRefs } from '@fluentui/react-utilities';\nimport { useTabListContext_unstable } from '../TabList/TabListContext';\n/**\n * Create the state required to render Tab.\n *\n * The returned state can be modified with hooks such as useTabStyles_unstable,\n * before being passed to renderTab_unstable.\n *\n * @param props - props from this instance of Tab\n * @param ref - reference to root HTMLElement of Tab\n */\nexport const useTab_unstable = (props, ref) => {\n  const {\n    content,\n    disabled: tabDisabled = false,\n    icon,\n    onClick,\n    value\n  } = props;\n  const appearance = useTabListContext_unstable(ctx => ctx.appearance);\n  const reserveSelectedTabSpace = useTabListContext_unstable(ctx => ctx.reserveSelectedTabSpace);\n  const listDisabled = useTabListContext_unstable(ctx => ctx.disabled);\n  const selected = useTabListContext_unstable(ctx => ctx.selectedValue === value);\n  const onRegister = useTabListContext_unstable(ctx => ctx.onRegister);\n  const onUnregister = useTabListContext_unstable(ctx => ctx.onUnregister);\n  const onSelect = useTabListContext_unstable(ctx => ctx.onSelect);\n  const size = useTabListContext_unstable(ctx => ctx.size);\n  const vertical = useTabListContext_unstable(ctx => !!ctx.vertical);\n  const disabled = listDisabled || tabDisabled;\n  const innerRef = React.useRef(null);\n  const onTabClick = useEventCallback(mergeCallbacks(onClick, event => onSelect(event, {\n    value\n  })));\n  React.useEffect(() => {\n    onRegister({\n      value,\n      ref: innerRef\n    });\n    return () => {\n      onUnregister({\n        value,\n        ref: innerRef\n      });\n    };\n  }, [onRegister, onUnregister, innerRef, value]);\n  const iconShorthand = resolveShorthand(icon);\n  const contentShorthand = resolveShorthand(content, {\n    required: true,\n    defaultProps: {\n      children: props.children\n    }\n  });\n  return {\n    components: {\n      root: 'button',\n      icon: 'span',\n      content: 'span'\n    },\n    root: getNativeElementProps('button', {\n      ref: useMergedRefs(ref, innerRef),\n      role: 'tab',\n      type: 'button',\n      // aria-selected undefined indicates it is not selectable\n      // according to https://www.w3.org/TR/wai-aria-1.1/#aria-selected\n      'aria-selected': disabled ? undefined : `${selected}`,\n      ...props,\n      disabled,\n      onClick: onTabClick\n    }),\n    icon: iconShorthand,\n    iconOnly: Boolean((iconShorthand === null || iconShorthand === void 0 ? void 0 : iconShorthand.children) && !contentShorthand.children),\n    content: contentShorthand,\n    appearance,\n    contentReservedSpaceClassName: reserveSelectedTabSpace ? '' : undefined,\n    disabled,\n    selected,\n    size,\n    value,\n    vertical\n  };\n};\n//# sourceMappingURL=useTab.js.map"],"names":["useTab_unstable","props","ref","content","disabled","tabDisabled","icon","onClick","value","appearance","useTabListContext_unstable","ctx","reserveSelectedTabSpace","listDisabled","selected","selectedValue","onRegister","onUnregister","onSelect","size","vertical","innerRef","React","useRef","onTabClick","useEventCallback","mergeCallbacks","event","useEffect","iconShorthand","resolveShorthand","contentShorthand","required","defaultProps","children","components","root","getNativeElementProps","useMergedRefs","role","type","undefined","iconOnly","Boolean","contentReservedSpaceClassName"],"mappings":";;;;+BAYaA;;aAAAA;;;6DAZU;gCACkF;gCAC9D;AAUpC,MAAMA,kBAAkB,CAACC,OAAOC,MAAQ;IAC7C,MAAM,EACJC,QAAO,EACPC,UAAUC,cAAc,KAAK,CAAA,EAC7BC,KAAI,EACJC,QAAO,EACPC,MAAK,EACN,GAAGP;IACJ,MAAMQ,aAAaC,IAAAA,0CAA0B,EAACC,CAAAA,MAAOA,IAAIF,UAAU;IACnE,MAAMG,0BAA0BF,IAAAA,0CAA0B,EAACC,CAAAA,MAAOA,IAAIC,uBAAuB;IAC7F,MAAMC,eAAeH,IAAAA,0CAA0B,EAACC,CAAAA,MAAOA,IAAIP,QAAQ;IACnE,MAAMU,WAAWJ,IAAAA,0CAA0B,EAACC,CAAAA,MAAOA,IAAII,aAAa,KAAKP;IACzE,MAAMQ,aAAaN,IAAAA,0CAA0B,EAACC,CAAAA,MAAOA,IAAIK,UAAU;IACnE,MAAMC,eAAeP,IAAAA,0CAA0B,EAACC,CAAAA,MAAOA,IAAIM,YAAY;IACvE,MAAMC,WAAWR,IAAAA,0CAA0B,EAACC,CAAAA,MAAOA,IAAIO,QAAQ;IAC/D,MAAMC,OAAOT,IAAAA,0CAA0B,EAACC,CAAAA,MAAOA,IAAIQ,IAAI;IACvD,MAAMC,WAAWV,IAAAA,0CAA0B,EAACC,CAAAA,MAAO,CAAC,CAACA,IAAIS,QAAQ;IACjE,MAAMhB,WAAWS,gBAAgBR;IACjC,MAAMgB,WAAWC,OAAMC,MAAM,CAAC,IAAI;IAClC,MAAMC,aAAaC,IAAAA,gCAAgB,EAACC,IAAAA,8BAAc,EAACnB,SAASoB,CAAAA,QAAST,SAASS,OAAO;YACnFnB;QACF;IACAc,OAAMM,SAAS,CAAC,IAAM;QACpBZ,WAAW;YACTR;YACAN,KAAKmB;QACP;QACA,OAAO,IAAM;YACXJ,aAAa;gBACXT;gBACAN,KAAKmB;YACP;QACF;IACF,GAAG;QAACL;QAAYC;QAAcI;QAAUb;KAAM;IAC9C,MAAMqB,gBAAgBC,IAAAA,gCAAgB,EAACxB;IACvC,MAAMyB,mBAAmBD,IAAAA,gCAAgB,EAAC3B,SAAS;QACjD6B,UAAU,IAAI;QACdC,cAAc;YACZC,UAAUjC,MAAMiC,QAAQ;QAC1B;IACF;IACA,OAAO;QACLC,YAAY;YACVC,MAAM;YACN9B,MAAM;YACNH,SAAS;QACX;QACAiC,MAAMC,IAAAA,qCAAqB,EAAC,UAAU;YACpCnC,KAAKoC,IAAAA,6BAAa,EAACpC,KAAKmB;YACxBkB,MAAM;YACNC,MAAM;YACN,yDAAyD;YACzD,iEAAiE;YACjE,iBAAiBpC,WAAWqC,YAAY,CAAC,EAAE3B,SAAS,CAAC;YACrD,GAAGb,KAAK;YACRG;YACAG,SAASiB;QACX;QACAlB,MAAMuB;QACNa,UAAUC,QAAQ,AAACd,CAAAA,kBAAkB,IAAI,IAAIA,kBAAkB,KAAK,IAAI,KAAK,IAAIA,cAAcK,QAAQ,AAAD,KAAM,CAACH,iBAAiBG,QAAQ;QACtI/B,SAAS4B;QACTtB;QACAmC,+BAA+BhC,0BAA0B,KAAK6B,SAAS;QACvErC;QACAU;QACAK;QACAX;QACAY;IACF;AACF,GACA,kCAAkC"}